# 리덕스

리덕스는 리액트 진영에서 가장 많이 쓰이는 상태 관리 라이브러리입니다. 리덕스를 사용하면 컴포넌트의 상태 업데이트 관련 로직을 다른 파일로 분리해 효율적으로 관리할 수 있습니다. 컴포넌트끼리 상태를 전달할 때도 props 드릴링의 과정 없이 쉽게 전달할 수 있습니다.

물론 Context API의 개선으로 전역 상태 관리에서 리덕스가 유일한 것은 아닙니다. 하지만, 리덕스는 개발자 도구도 지원하고, 미들웨어를 사용해 비동기 작업도 효율적으로 할 수 있기 때문에, 프로젝트가 커질 수록 리덕스를 사용하는 편이 좋습니다.



# 액션

리덕스 라이브러리에서 액션이란 상태를 변화시키는 객체 또는 값 입니다. 액션은 아래와 같은 형태로 이루어져 있습니다.

```javascript
{
    type: 'INCREASE',
    payload: ...
}
```

리덕스 액션에서 type은 필수로 있어야 하는 항목입니다. 뒤의 payload는 필요에 따라 없어도 되고 있어도 되고, 다른 항목으로 대체될 수도 있다. 리덕스에서는 위의 액션 형태를 가지고 상태를 변화시킨다.



# 리듀서

리듀서는 액션을 받아서, 액션에 맞는 상태를 직접적으로 일으키는 함수입니다. 형태는 아래와 같습니다.

```javascript
function reducer (state = initialState, action) {
    switch(action.type) {
        case 'INCREASE':
            return {...state, value: state.value + 1};
        // ...
        default:
            return state;
    }
}
```

파라미터로 기존 상태와 액션을 받고, `action.type` 의 값에 따라 새로운 상태를 만들어 반환합니다. 여기서 주의해야 할 점은 변화가 있을 때는 항상 새로운 상태를 반환해야 한다는 것입니다. 불변성을 유지해야 한다는 말과 같은데, 리덕스에서는 자체적으로 불변성을 유지하기 위한 어떠한 도구도 제공하지 않기 때문에, 사용자가 불변성 유지를 해주어야 리덕스를 효율적으로 사용할 수 있습니다.



# 스토어

리덕스의 본체와 같습니다. 상태와 뒤에 설명할 dispatch와 subscribe를 내장하고 있습니다. 한 개의 프로젝트는 단 하나의 스토어만 가질 수 있습니다.



# 디스패치

스토어의 내장 함수 중 하나로, 액션을 발생시키는 함수입니다. `dispatch(action)` 의 형태로 사용하고, 이는 리듀서 함수를 실행합니다.



# 구독

스토어의 내장 함수 중 하나로, 상태 변화가 생길 경우 구독에 넣어둔 함수를 호출합니다.

